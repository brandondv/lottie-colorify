(function(_,v){typeof exports=="object"&&typeof module<"u"?v(exports):typeof define=="function"&&define.amd?define(["exports"],v):(_=typeof globalThis<"u"?globalThis:_||self,v(_.index={}))})(this,function(_){"use strict";var v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var R={exports:{}};R.exports,function(a,c){var d=200,i="__lodash_hash_undefined__",l=9007199254740991,o="[object Arguments]",f="[object Array]",p="[object Boolean]",S="[object Date]",u="[object Error]",b="[object Function]",ct="[object GeneratorFunction]",F="[object Map]",st="[object Number]",J="[object Object]",ft="[object Promise]",ut="[object RegExp]",$="[object Set]",lt="[object String]",dt="[object Symbol]",X="[object WeakMap]",ht="[object ArrayBuffer]",D="[object DataView]",pt="[object Float32Array]",yt="[object Float64Array]",gt="[object Int8Array]",_t="[object Int16Array]",wt="[object Int32Array]",At="[object Uint8Array]",Tt="[object Uint8ClampedArray]",vt="[object Uint16Array]",mt="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,ae=/\w*$/,ie=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,s={};s[o]=s[f]=s[ht]=s[D]=s[p]=s[S]=s[pt]=s[yt]=s[gt]=s[_t]=s[wt]=s[F]=s[st]=s[J]=s[ut]=s[$]=s[lt]=s[dt]=s[At]=s[Tt]=s[vt]=s[mt]=!0,s[u]=s[b]=s[X]=!1;var ce=typeof v=="object"&&v&&v.Object===Object&&v,se=typeof self=="object"&&self&&self.Object===Object&&self,w=ce||se||Function("return this")(),St=c&&!c.nodeType&&c,Ct=St&&!0&&a&&!a.nodeType&&a,fe=Ct&&Ct.exports===St;function ue(t,e){return t.set(e[0],e[1]),t}function le(t,e){return t.add(e),t}function de(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function he(t,e){for(var r=-1,n=e.length,h=t.length;++r<n;)t[h+r]=e[r];return t}function xt(t,e,r,n){for(var h=-1,y=t?t.length:0;++h<y;)r=e(r,t[h],h,t);return r}function pe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function ye(t,e){return t==null?void 0:t[e]}function Ot(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function bt(t){var e=-1,r=Array(t.size);return t.forEach(function(n,h){r[++e]=[h,n]}),r}function Y(t,e){return function(r){return t(e(r))}}function Mt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ge=Array.prototype,_e=Function.prototype,H=Object.prototype,Z=w["__core-js_shared__"],Et=function(){var t=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),kt=_e.toString,m=H.hasOwnProperty,U=H.toString,we=RegExp("^"+kt.call(m).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=fe?w.Buffer:void 0,Pt=w.Symbol,Gt=w.Uint8Array,Ae=Y(Object.getPrototypeOf,Object),Te=Object.create,ve=H.propertyIsEnumerable,me=ge.splice,Rt=Object.getOwnPropertySymbols,Se=It?It.isBuffer:void 0,Ce=Y(Object.keys,Object),z=k(w,"DataView"),P=k(w,"Map"),Q=k(w,"Promise"),j=k(w,"Set"),tt=k(w,"WeakMap"),G=k(Object,"create"),xe=O(z),Oe=O(P),be=O(Q),Me=O(j),Ee=O(tt),Bt=Pt?Pt.prototype:void 0,Ft=Bt?Bt.valueOf:void 0;function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ke(){this.__data__=G?G(null):{}}function Ie(t){return this.has(t)&&delete this.__data__[t]}function Pe(t){var e=this.__data__;if(G){var r=e[t];return r===i?void 0:r}return m.call(e,t)?e[t]:void 0}function Ge(t){var e=this.__data__;return G?e[t]!==void 0:m.call(e,t)}function Re(t,e){var r=this.__data__;return r[t]=G&&e===void 0?i:e,this}C.prototype.clear=ke,C.prototype.delete=Ie,C.prototype.get=Pe,C.prototype.has=Ge,C.prototype.set=Re;function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Be(){this.__data__=[]}function Fe(t){var e=this.__data__,r=K(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():me.call(e,r,1),!0}function $e(t){var e=this.__data__,r=K(e,t);return r<0?void 0:e[r][1]}function De(t){return K(this.__data__,t)>-1}function He(t,e){var r=this.__data__,n=K(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}A.prototype.clear=Be,A.prototype.delete=Fe,A.prototype.get=$e,A.prototype.has=De,A.prototype.set=He;function M(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ue(){this.__data__={hash:new C,map:new(P||A),string:new C}}function Ke(t){return N(this,t).delete(t)}function Ne(t){return N(this,t).get(t)}function Le(t){return N(this,t).has(t)}function Ve(t,e){return N(this,t).set(t,e),this}M.prototype.clear=Ue,M.prototype.delete=Ke,M.prototype.get=Ne,M.prototype.has=Le,M.prototype.set=Ve;function E(t){this.__data__=new A(t)}function We(){this.__data__=new A}function qe(t){return this.__data__.delete(t)}function Je(t){return this.__data__.get(t)}function Xe(t){return this.__data__.has(t)}function Ye(t,e){var r=this.__data__;if(r instanceof A){var n=r.__data__;if(!P||n.length<d-1)return n.push([t,e]),this;r=this.__data__=new M(n)}return r.set(t,e),this}E.prototype.clear=We,E.prototype.delete=qe,E.prototype.get=Je,E.prototype.has=Xe,E.prototype.set=Ye;function Ze(t,e){var r=nt(t)||Tr(t)?pe(t.length,String):[],n=r.length,h=!!n;for(var y in t)m.call(t,y)&&!(h&&(y=="length"||gr(y,n)))&&r.push(y);return r}function $t(t,e,r){var n=t[e];(!(m.call(t,e)&&Kt(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function K(t,e){for(var r=t.length;r--;)if(Kt(t[r][0],e))return r;return-1}function ze(t,e){return t&&Dt(e,at(e),t)}function et(t,e,r,n,h,y,T){var g;if(n&&(g=y?n(t,h,y,T):n(t)),g!==void 0)return g;if(!L(t))return t;var Vt=nt(t);if(Vt){if(g=hr(t),!e)return ur(t,g)}else{var I=x(t),Wt=I==b||I==ct;if(mr(t))return nr(t,e);if(I==J||I==o||Wt&&!y){if(Ot(t))return y?t:{};if(g=pr(Wt?{}:t),!e)return lr(t,ze(g,t))}else{if(!s[I])return y?t:{};g=yr(t,I,et,e)}}T||(T=new E);var qt=T.get(t);if(qt)return qt;if(T.set(t,g),!Vt)var Jt=r?dr(t):at(t);return de(Jt||t,function(it,V){Jt&&(V=it,it=t[V]),$t(g,V,et(it,e,r,n,V,t,T))}),g}function Qe(t){return L(t)?Te(t):{}}function je(t,e,r){var n=e(t);return nt(t)?n:he(n,r(t))}function tr(t){return U.call(t)}function er(t){if(!L(t)||wr(t))return!1;var e=Lt(t)||Ot(t)?we:ie;return e.test(O(t))}function rr(t){if(!Ut(t))return Ce(t);var e=[];for(var r in Object(t))m.call(t,r)&&r!="constructor"&&e.push(r);return e}function nr(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function rt(t){var e=new t.constructor(t.byteLength);return new Gt(e).set(new Gt(t)),e}function ar(t,e){var r=e?rt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function ir(t,e,r){var n=e?r(bt(t),!0):bt(t);return xt(n,ue,new t.constructor)}function or(t){var e=new t.constructor(t.source,ae.exec(t));return e.lastIndex=t.lastIndex,e}function cr(t,e,r){var n=e?r(Mt(t),!0):Mt(t);return xt(n,le,new t.constructor)}function sr(t){return Ft?Object(Ft.call(t)):{}}function fr(t,e){var r=e?rt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function ur(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Dt(t,e,r,n){r||(r={});for(var h=-1,y=e.length;++h<y;){var T=e[h],g=void 0;$t(r,T,g===void 0?t[T]:g)}return r}function lr(t,e){return Dt(t,Ht(t),e)}function dr(t){return je(t,at,Ht)}function N(t,e){var r=t.__data__;return _r(e)?r[typeof e=="string"?"string":"hash"]:r.map}function k(t,e){var r=ye(t,e);return er(r)?r:void 0}var Ht=Rt?Y(Rt,Object):xr,x=tr;(z&&x(new z(new ArrayBuffer(1)))!=D||P&&x(new P)!=F||Q&&x(Q.resolve())!=ft||j&&x(new j)!=$||tt&&x(new tt)!=X)&&(x=function(t){var e=U.call(t),r=e==J?t.constructor:void 0,n=r?O(r):void 0;if(n)switch(n){case xe:return D;case Oe:return F;case be:return ft;case Me:return $;case Ee:return X}return e});function hr(t){var e=t.length,r=t.constructor(e);return e&&typeof t[0]=="string"&&m.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function pr(t){return typeof t.constructor=="function"&&!Ut(t)?Qe(Ae(t)):{}}function yr(t,e,r,n){var h=t.constructor;switch(e){case ht:return rt(t);case p:case S:return new h(+t);case D:return ar(t,n);case pt:case yt:case gt:case _t:case wt:case At:case Tt:case vt:case mt:return fr(t,n);case F:return ir(t,n,r);case st:case lt:return new h(t);case ut:return or(t);case $:return cr(t,n,r);case dt:return sr(t)}}function gr(t,e){return e=e??l,!!e&&(typeof t=="number"||oe.test(t))&&t>-1&&t%1==0&&t<e}function _r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wr(t){return!!Et&&Et in t}function Ut(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||H;return t===r}function O(t){if(t!=null){try{return kt.call(t)}catch{}try{return t+""}catch{}}return""}function Ar(t){return et(t,!0,!0)}function Kt(t,e){return t===e||t!==t&&e!==e}function Tr(t){return vr(t)&&m.call(t,"callee")&&(!ve.call(t,"callee")||U.call(t)==o)}var nt=Array.isArray;function Nt(t){return t!=null&&Sr(t.length)&&!Lt(t)}function vr(t){return Cr(t)&&Nt(t)}var mr=Se||Or;function Lt(t){var e=L(t)?U.call(t):"";return e==b||e==ct}function Sr(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=l}function L(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Cr(t){return!!t&&typeof t=="object"}function at(t){return Nt(t)?Ze(t):rr(t)}function xr(){return[]}function Or(){return!1}a.exports=Ar}(R,R.exports);var Yt=R.exports;const W=Xt(Yt),Zt=(a=[],c,d=!0)=>{const i=[];for(const o of a)i.push(B(o));return Qt(i,d?W(c):c)},B=a=>{if(typeof a=="string"&&a.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i)){const c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(!c)throw new Error("Color can be only hex or rgb array (ex. [10,20,30])");return[Math.round(parseInt(c[1],16)/255*1e3)/1e3,Math.round(parseInt(c[2],16)/255*1e3)/1e3,Math.round(parseInt(c[3],16)/255*1e3)/1e3]}else{if(typeof a=="object"&&a.length===3&&a.every(c=>c>=0&&c<=255))return[Math.round(a[0]/255*1e3)/1e3,Math.round(a[1]/255*1e3)/1e3,Math.round(a[2]/255*1e3)/1e3];if(a)throw new Error("Color can be only hex or rgb array (ex. [10,20,30])");return}},q=a=>Math.round(a*1e3)/1e3,ot=(a,c,d,i=!0)=>{const l=B(a),o=B(c);if(!l||!o)throw new Error("Proper colors must be used for both source and target");function f(p,S,u){if(u&&u.s&&Array.isArray(u.s)&&u.s.length===4)p[0]===u.s[0]&&p[1]===u.s[1]&&p[2]===u.s[2]&&(u.s=[...S,1]);else if(u&&u.c&&u.c.k)Array.isArray(u.c.k)&&typeof u.c.k[0]!="number"?f(p,S,u.c.k):p[0]===q(u.c.k[0])&&p[1]===q(u.c.k[1])&&p[2]===q(u.c.k[2])&&(u.c.k=S);else for(const b in u)typeof u[b]=="object"&&f(p,S,u[b]);return u}return f(l,o,i?W(d):d)},zt=(a,c,d=!0)=>{const i=B(a);if(!i)throw new Error("Proper colors must be used for target");function l(o,f){if(f&&f.s&&Array.isArray(f.s)&&f.s.length===4)f.s=[...o,1];else if(f&&f.c&&f.c.k)Array.isArray(f.c.k)&&typeof f.c.k[0]!="number"?l(o,f.c.k):f.c.k=o;else for(const p in f)typeof f[p]=="object"&&l(o,f[p]);return f}return l(i,d?W(c):c)},Qt=(a,c)=>{let d=0;function i(l,o){o&&o.s&&Array.isArray(o.s)&&o.s.length===4?(l[d]&&(o.s=[...l[d],1]),d++):o&&o.c&&o.c.k&&(Array.isArray(o.c.k)&&typeof o.c.k[0]!="number"?i(l,o.c.k):(l[d]&&(o.c.k=l[d]),d++));for(const f in o)typeof o[f]=="object"&&i(l,o[f]);return o}return i(a,c)},jt=a=>[Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)],te=a=>[Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255),a[3]],ee=a=>{const c=[];function d(i){if(i&&i.s&&Array.isArray(i.s)&&i.s.length===4)c.push(te(i.s));else if(i.c&&i.c.k)Array.isArray(i.c.k)&&typeof i.c.k[0]!="number"?d(i.c.k):c.push(jt(i.c.k));else for(const l in i)typeof i[l]=="object"&&d(i[l]);return c}return d(a),c},re=(a,c)=>a.reduce((d,[i,l])=>ot(i,l,d),c);_.colorify=Zt,_.flatten=zt,_.getColors=ee,_.replaceColor=ot,_.replaceColors=re,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"})});
